<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="renderer" content="webkit">
    <title>更新</title>  
    <link rel="stylesheet" href="css/pintuer.css">
    <link rel="stylesheet" href="css/admin.css">
    <style type="text/css">
#authDiv{
    }

    #authDiv ul{
        margin:0px;
        padding:0px;
        list-style-type:none;
        vertical-align:middle  ;
    }

    #authDiv li{
        float:left;
        display:block;

        width:100px;  
        height:20px;
        line-height:20px;

        font-size:14px;   
        font-weight:bold;           
        color:#666666;

        text-decoration:none;
        text-align:left;  

        background:#ffffff;
    }
</style>
    <script src="js/jquery.js"></script>   
    <script src="js/pintuer.js"></script>
</head>
<body style="background-color:#f2f9fd;">
<div class="header bg-main">
  <div class="logo margin-big-left fadein-top">
    <h1><img src="images/y.jpg" class="radius-circle rotate-hover" height="50" alt="" />人力资源管理系统</h1>
  </div>
  <div class="head-l">
  <a class="button button-little bg-green" href="#" target="_blank"><span class="icon-home"></span> 重新登录</a> &nbsp;&nbsp;
  <a href="##" class="button button-little bg-blue"><span class="icon-wrench"></span> 清空缓存</a> &nbsp;&nbsp;
  <a class="button button-little bg-red" href="#"><span class="icon-power-off"></span> 退出</a> </div>
</div>
<div class="leftnav">
  <div class="leftnav-title"><strong><span class="icon-list">菜单</strong></div>
  <h2><span class="icon-user"></span>安全管理</h2>
  <ul style="display:block">
    <li><a href="#" target="right"><span class="icon-caret-right"></span>修改密码</a></li>
  </ul>   
  <h2><span class="icon-pencil-square-o"></span>系统管理</h2>
  <ul>
    <li><a href="#" target="right"><span class="icon-caret-right"></span>管理员管理</a></li>
    <li><a href="#" target="right"><span class="icon-caret-right"></span>权限管理</a></li>
  </ul>
  <h2><span class="icon-pencil-square-o"></span>员工管理</h2>
  <ul>
    <li><a href="#" target="right"><span class="icon-caret-right"></span>基本信息管理</a></li>
    <li><a href="#" target="right"><span class="icon-caret-right"></span>档案管理</a></li>
    <li><a href="#" target="right"><span class="icon-caret-right"></span>合同管理</a></li>
  </ul>
  
  <h2><span class="icon-pencil-square-o"></span>人事管理</h2>
  <ul>
    <li><a href="#" target="right"><span class="icon-caret-right"></span>人事调动</a></li>
    <li><a href="#" target="right"><span class="icon-caret-right"></span>人事调动记录</a></li>
  </ul>
  
  <h2><span class="icon-pencil-square-o"></span>培训管理</h2>
  <ul>
    <li><a href="#" target="right"><span class="icon-caret-right"></span>培训信息</a></li>
  </ul>
  <h2><span class="icon-pencil-square-o"></span>考勤管理</h2>
  <ul>
    <li><a href="#" target="right"><span class="icon-caret-right"></span>考勤记录</a></li>
    <li><a href="#" target="right"><span class="icon-caret-right"></span>薪酬记录</a></li>
  </ul> 
  
  <h2><span class="icon-pencil-square-o"></span>招聘管理</h2>
  <ul>
    <li><a href="#" target="right"><span class="icon-caret-right"></span>招聘记录</a></li>
    <li><a href="#" target="right"><span class="icon-caret-right"></span>应聘信息</a></li>
  </ul>    
</div>
<script type="text/javascript">
$(function(){
  $(".leftnav h2").click(function(){
	  $(this).next().slideToggle(200);	
	  $(this).toggleClass("on"); 
  })
  $(".leftnav ul li a").click(function(){
	    $("#a_leader_txt").text($(this).text());
  		$(".leftnav ul li a").removeClass("on");
		$(this).addClass("on");
  })
});
</script>
<ul class="bread">
  <li><a href="#" target="right" class="icon-home"> 首页</a></li>
  <li><a href="##" id="a_leader_txt"></a></li>
  <li>
  <b>当前语言：</b><span style="color:red;">中文</span>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  切换：
  <a href="#">中文</a> &nbsp;&nbsp;
  <a href="#">English</a>
  </li>
</ul>
<div class="admin">
  

<script type="text/javascript">
/**
 * 查找数组中是否存在某一个元素
 */
function contains(arr, obj) {  
    var i = arr.length;  
    while (i--) {  
        if (arr[i] === obj) {  
            return true;  
        }  
    }  
    return false;  
}  

/**
 * 获取数据函数
 */
function getData(url){
	var result;
	$.get(url,function(data,status){
		result = eval("("+data+")");
	});
	alert();
	return result;
}

function getAndShowAuths(){
	$.get("#",function(data,status){
		var allAuths = eval("("+data+")");
		$.get("#" ,function(data,status){
			var auths = eval("("+data+")");
			
			var ul=document.createElement("ul");
		    for(var i=0;i<allAuths.length;i++){
		        var auth=allAuths[i];

		        // 加入复选框
		        var checkBox=document.createElement("input");
		        checkBox.setAttribute("type","checkbox");
		        checkBox.setAttribute("id","systemManagerRequest.ids");
		        checkBox.setAttribute("value",auth.id);
		        checkBox.setAttribute("name", "systemManagerRequest.ids");
		        // 判断用户拥有的权限
		        if(contains(auths, auth.id)){
		        	checkBox.setAttribute("checked", true);
		        }
		        var li=document.createElement("li");
		        li.appendChild(checkBox);        
		        li.appendChild(document.createTextNode(auth.authName));
		        ul.appendChild(li);        
		    }
		    document.getElementById("authDiv").appendChild(ul);
		});
	});
 }
 getAndShowAuths();
</script>
	<div class="panel admin-panel">
		<div class="panel-head" id="add">
			<strong><span class="icon-pencil-square-o"></span>修改管理员</strong>
		</div>
		<div class="body-content">
			<form method="post" class="form-x" action="#">
			<input type="hidden" id="id" name="id" value="">
				<div class="form-group">
					<div class="label">
						<label>管理员账号: </label>
					</div>
					<div class="field">
						<input type="text" value="" class="input w50"
							name="account"
							data-validate="required:请输入管理员账号" />
						<div class="tips"></div>
					</div>
				</div>
				<div class="form-group">
					<div class="label">
						<label>管理员密码: </label>
					</div>
					<div class="field">
						<input type="password" value="" class="input w50"
							name="password"
							data-validate="required:请输入管理员密码" />
						<div class="tips"></div>
					</div>
				</div>
				<div class="form-group">
					<div class="label">
						<label>管理员头像：</label>
					</div>
					<div class="field">
						<div id="preview_div">
							<img id="preview_img" style="width: 200px; height: 200px;" src="head">
						</div>
						<a href="javascript:;" class="file">选择图片
						<input class="serverImg" type="text" id="headImg" value="" name="head" />
						
						<input type="file" id="img" name="img" onchange="previewImage(this,'headImg');">
						</a>
						<div class="tipss">
						尺寸: 200*200 大小:0-50KB 
						</div>
					</div>
				</div>

				<div class="form-group">
					<div class="label">
						<label>管理员权限：</label>
					</div>
					<div class="field">
						<div id="authDiv"></div>
						<div class="tips"></div>
					</div>
				</div>
				<div class="clear"></div>

				<div class="form-group">
					<div class="label">
						<label></label>
					</div>
					<div class="field">
						<button class="button bg-main icon-check-square-o" type="submit">
							提交</button>
					</div>
				</div>
			</form>
		</div>
	</div>
</body>
</html>